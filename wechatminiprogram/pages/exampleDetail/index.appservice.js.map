{"version":3,"file":"","sourceRoot":"","sources":["pages/exampleDetail/index.js"],"names":["Page","data","type","envId","showTip","title","content","haveGetOpenId","openId","haveGetCodeSrc","codeSrc","haveGetRecord","record","haveGetImgSrc","imgSrc","onLoad","options","this","setData","getOpenId","_this","wx","showLoading","cloud","callFunction","name","then","resp","result","openid","hideLoading","catch","e","errCode","errMsg","includes","clearOpenId","getCodeSrc","_this2","clearCodeSrc","getRecord","_this3","clearRecord","uploadImg","_this4","chooseImage","count","success","chooseResult","uploadFile","cloudPath","filePath","tempFilePaths","res","fileID","clearImgSrc","goOfficialWebsite","navigateTo","url","concat"],"mappings":"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","sourcesContent":["// pages/exampleDetail/index.js\nPage({\n  data: {\n    type: '',\n    envId: '',\n    showTip: false,\n    title:\"\",\n    content:\"\",\n\n    haveGetOpenId: false,\n    openId: '',\n\n    haveGetCodeSrc: false,\n    codeSrc: '',\n\n    haveGetRecord: false,\n    record: '',\n\n    haveGetImgSrc: false,\n    imgSrc: '',\n  },\n\n  onLoad(options) {\n    this.setData({ type: options?.type, envId: options?.envId });\n  },\n\n  getOpenId() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud.callFunction({\n      name: 'quickstartFunctions',\n      data: {\n        type: 'getOpenId'\n      }\n    }).then((resp) => {\n      this.setData({\n        haveGetOpenId: true,\n        openId: resp.result.openid\n      });\n      wx.hideLoading();\n    }).catch((e) => {\n      wx.hideLoading();\n      const {errCode,errMsg}=e\n      if(errMsg.includes('Environment not found')){\n        this.setData({\n          showTip: true,\n          title:\"云开发环境未找到\",\n          content:\"如果已经开通云开发，请检查环境ID与 `miniprogram/app.js` 中的 `env` 参数是否一致。\"  \n        });\n        return\n      }\n      if(errMsg.includes('FunctionName parameter could not be found')){\n        this.setData({\n          showTip: true,\n          title:\"请上传云函数\",\n          content:\"在'cloudfunctions/quickstartFunctions'目录右键，选择【上传并部署-云端安装依赖】，等待云函数上传完成后重试。\"  \n        });\n        return\n      }\n    });\n  },\n\n  clearOpenId() {\n    this.setData({\n      haveGetOpenId: false,\n      openId: ''\n    });\n  },\n\n  getCodeSrc() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud.callFunction({\n      name: 'quickstartFunctions',\n      data: {\n        type: 'getMiniProgramCode'\n      }\n    }).then((resp) => {\n      this.setData({\n        haveGetCodeSrc: true,\n        codeSrc: resp.result\n      });\n      wx.hideLoading();\n    }).catch((e) => {\n      wx.hideLoading();\n      const {errCode,errMsg}=e\n      if(errMsg.includes('Environment not found')){\n        this.setData({\n          showTip: true,\n          title:\"云开发环境未找到\",\n          content:\"如果已经开通云开发，请检查环境ID与 `miniprogram/app.js` 中的 `env` 参数是否一致。\"  \n        });\n        return\n      }\n      if(errMsg.includes('FunctionName parameter could not be found')){\n        this.setData({\n          showTip: true,\n          title:\"请上传云函数\",\n          content:\"在'cloudfunctions/quickstartFunctions'目录右键，选择【上传并部署-云端安装依赖】，等待云函数上传完成后重试。\"  \n        });\n        return\n      }\n    });\n  },\n\n  clearCodeSrc() {\n    this.setData({\n      haveGetCodeSrc: false,\n      codeSrc: ''\n    });\n  },\n\n  getRecord() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud.callFunction({\n      name: 'quickstartFunctions',\n      data: {\n        type: 'selectRecord'\n      }\n    }).then((resp) => {\n      this.setData({\n        haveGetRecord: true,\n        record: resp.result.data\n      });\n      wx.hideLoading();\n    }).catch((e) => {\n      this.setData({\n        showTip: true\n      });\n      wx.hideLoading();\n    });\n  },\n\n  clearRecord() {\n    this.setData({\n      haveGetRecord: false,\n      record: ''\n    });\n  },\n\n  uploadImg() {\n    wx.showLoading({\n      title: '',\n    });\n    // 让用户选择一张图片\n    wx.chooseImage({\n      count: 1,\n      success: chooseResult => {\n        // 将图片上传至云存储空间\n        wx.cloud.uploadFile({\n          // 指定上传到的云路径\n          cloudPath: 'my-photo.png',\n          // 指定要上传的文件的小程序临时文件路径\n          filePath: chooseResult.tempFilePaths[0],\n        }).then(res => {\n          this.setData({\n            haveGetImgSrc: true,\n            imgSrc: res.fileID\n          });\n          wx.hideLoading();\n        }).catch((e) => {\n          wx.hideLoading();\n        });\n      },\n    });\n  },\n\n  clearImgSrc() {\n    this.setData({\n      haveGetImgSrc: false,\n      imgSrc: ''\n    });\n  },\n\n  goOfficialWebsite() {\n    const url = 'https://docs.cloudbase.net/toolbox/quick-start';\n    wx.navigateTo({\n      url: `../web/index?url=${url}`,\n    });\n  },\n\n})"],"wx":{"version":1,"userVersion":"1.0.0","userNotes":"2025.3.11上传的第一个版本，可以实时查看数据以及状态识别\n22 在 2025年3月11日晚上8点06分 提交上传","packageVersion":"1557b7bacea3bb1c91f02063b1a0736c"}}