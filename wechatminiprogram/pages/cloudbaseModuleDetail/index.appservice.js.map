{"version":3,"file":"","sourceRoot":"","sources":["pages/cloudbaseModuleDetail/index.js"],"names":["Page","data","type","envId","showUploadTip","installModalVisible","installModalTipText","installModuleName","installModulePageTitle","userOpenId","currentOpenId","templateId","getErrorInfo","securityContent","securityMedia","mediaId","sendCustomMessage","urlLink","smsTemplateId","phoneNumber","appid","csvLink","qrcode","unlimitedQrcode","qrcodeShortLink","handdleResult","message","includes","this","setData","wx","hideLoading","bindKeyInputCsvLink","e","detail","value","bindKeyInputUrlLink","bindKeyInputSmsTemplateId","bindKeyInputPhoneNumber","bindKeyInputAppid","bindKeyInputSendCustomMessage","bindKeyInputMediaId","bindKeyInputSecurityMedia","bindKeyInputSecurityContent","bindKeyInputTemplateId","bindKeyInputOpenId","clearError","onLoad","options","setNavigationBarTitle","title","concat","subtitle","sendMessage","_this","showLoading","cloud","callFunction","name","template_id","page","touser","thing1","thing4","thing6","thing7","time6","miniprogram_state","lang","then","resp","_resp$result","_resp$result2","result","errcode","_resp$result3","showToast","icon","duration","errmsg","catch","createMessageActivityId","_this2","openid","_resp$result4","_resp$result5","activityId","_resp$result6","getCodeSrc","_this3","path","width","auto_color","line_color","r","g","b","is_hyaline","env_version","_resp$result7","tempFileURL","getUnlimitedCodeSrc","_this4","scene","check_path","_resp$result8","_resp$result9","_resp$result10","getShortLink","_this5","page_url","page_title","is_permanent","_resp$result11","_resp$result12","_resp$result13","sendCloudbaseSms","_this6","env","url_link","template_param_list","phone_number_list","use_short_name","resource_appid","_resp$result14","_resp$result15","_resp$result16","sendCloudbaseSmsTask","_this7","file_url","_resp$result17","_resp$result18","_resp$result19","securityMessageCheck","_this8","version","content","_resp$result20","_resp$result21","_resp$result21$result","label","securityMediaCheck","_this9","media_url","media_type","_resp$result22","_resp$result23","_resp$result24","getUserOpenId","_this10","_resp$result25","openId","getPhoneNumber","console","log","code","success","res","_res$result","phoneInfo"],"mappings":"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","sourcesContent":["// pages/exampleDetail/index.js\n// 云模板未安装错误码\nconst CLOUD_MODULE_NOT_INSTALLED = 'InnerError.ResourceNotFound';\n\nPage({\n  data: {\n    type: '',\n    envId: '',\n    showUploadTip: false,\n    installModalVisible: false,\n    installModalTipText: '',\n    installModuleName: '',\n    installModulePageTitle: '',\n    userOpenId: 'ouSoxxxxxxxxxxxxxJp3zM',\n    currentOpenId:'',\n    templateId: 'XeULkxnxxxxxxxxxxxxxx9vRO0olhrQi34',\n    getErrorInfo:'',\n    securityContent:'hello world!',\n    securityMedia:'https://developers.weixin.qq.com/miniprogram/assets/images/head_global_z_@all.png',\n    mediaId:'MEDIA_ID',\n    sendCustomMessage:'Hello World',\n    urlLink:'https://wxaurl.cn/difT1VdVOLa',\n    smsTemplateId:'2053122',\n    phoneNumber:'+8611111111111',\n    appid:'appid',\n    csvLink:'extension://xxx.zip',\n    qrcode:'',\n    unlimitedQrcode:'',\n    qrcodeShortLink:''\n  },\n  handdleResult: function(data){\n    if(data.message.includes('env not exists') || data.message.includes('Environment not found') || data.message.includes('env check invalid be filterd')){\n      this.setData({\n        showUploadTip: true,\n      });\n    }\n    wx.hideLoading();\n  },\n  bindKeyInputCsvLink: function(e){\n    this.setData({\n      csvLink: e.detail.value\n    })\n  },\n  bindKeyInputUrlLink: function(e){\n    this.setData({\n      urlLink: e.detail.value\n    })\n  },\n  bindKeyInputSmsTemplateId: function(e){\n    this.setData({\n      smsTemplateId: e.detail.value\n    })\n  },\n  bindKeyInputPhoneNumber: function(e){\n    this.setData({\n      phoneNumber: e.detail.value\n    })\n  },\n  bindKeyInputAppid: function(e){\n    this.setData({\n      appid: e.detail.value\n    })\n  },\n  bindKeyInputSendCustomMessage: function(e){\n    this.setData({\n      sendCustomMessage: e.detail.value\n    })\n  },\n  bindKeyInputMediaId: function(e){\n    this.setData({\n      mediaId: e.detail.value\n    })\n  },\n  bindKeyInputSecurityMedia: function(e){\n    this.setData({\n      securityMedia: e.detail.value\n    })\n  },\n  bindKeyInputSecurityContent: function(e){\n    this.setData({\n      securityContent: e.detail.value\n    })\n  },\n  bindKeyInputTemplateId: function (e) {\n    this.setData({\n      templateId: e.detail.value\n    })\n  },\n  bindKeyInputOpenId: function (e) {\n    this.setData({\n      userOpenId: e.detail.value\n    })\n  },\n  clearError: function(){\n    this.setData({\n      userOpenId: '',\n      templateId: '',\n      getErrorInfo:'',\n      securityMedia:'',\n      securityContent:'',\n      mediaId:'',\n      sendCustomMessage:'',\n      urlLink:'',\n      smsTemplateId:'',\n      phoneNumber:'',\n      appid:'',\n      csvLink:'',\n      qrcode:'',\n      unlimitedQrcode:'',\n      qrcodeShortLink:''\n    })  \n  },\n  onLoad(options) {\n    wx.setNavigationBarTitle({\n      title: `${options?.title}-${options?.subtitle}`\n    })\n    this.setData({ type: options?.type, envId: options?.envId});\n  },\n\n  // 发送消息\n  sendMessage() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n      .callFunction({\n        name: 'cloudbase_module',\n        data: {\n          name: 'wx_message_send_message',\n          data: {\n            template_id: this.data.templateId, // 所需下发的订阅模板id\n            page: \"pages/index/index\", //点击模板卡片后的跳转页面，仅限本小程序内的页面。支持带参数,（示例index?foo=bar）。该字段不填则模板无跳转\n            touser: this.data.userOpenId, //接收者（用户）的 openid\n            data:{ \"thing1\": { \"value\": 123 }, \"thing4\": { \"value\": 123 },\"thing6\": { \"value\": 123 },\"thing7\": { \"value\": 123 },\"time6\":{\"value\": \"2022-11-32\"} }, //模板内容，格式形如 { \"key1\": { \"value\": any }, \"key2\": { \"value\": any } }的object\n            miniprogram_state:\"trial\", //跳转小程序类型：developer为开发版；trial为体验版；formal为正式版；默认为正式版\n            lang:\"zh_CN\" //进入小程序查看”的语言类型，支持zh_CN(简体中文)、en_US(英文)、zh_HK(繁体中文)、zh_TW(繁体中文)，默认为zh_CN\n          },\n        },\n      })\n      .then((resp) => {\n        if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n          this.setData({\n            installModalVisible: true,\n            installModalTipText: '云开发>云模板>模板中心>小程序消息',\n            installModuleName: 'wx_message_send_message',\n            installModulePageTitle:'小程序消息-发送消息'\n          });\n        }else if(resp?.result?.errcode !== -1){\n          wx.showToast({\n            title: \"发送失败\",\n            icon: 'error',\n            duration: 2000\n          });\n          this.setData({\n            getErrorInfo:resp?.result?.errmsg,\n          })\n        }else {\n          wx.showToast({\n            title: \"发送成功\",\n            icon: 'success',\n            duration: 2000\n          }); \n        }\n        wx.hideLoading();\n      })\n      .catch((e) => {\n        this.handdleResult(e);\n      });\n  },\n\n  // 创建activity_id\n  createMessageActivityId() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n      .callFunction({\n        name: 'cloudbase_module',\n        data: {\n          name: 'wx_message_create_activity_id',\n          data: {\n            openid: this.data.userOpenId, //为私密消息创建activity_id时，指定分享者为openid用户。其余用户不能用此activity_id分享私密消息。openid与unionid填一个即可。私密消息暂不支持云函数生成activity id。\n          },\n        }\n      })\n      .then((resp) => {\n        if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n          this.setData({\n            installModalVisible: true,\n            installModalTipText: '云开发>云模板>模板中心>小程序消息',\n            installModuleName: 'wx_message_send_message',\n            installModulePageTitle:'小程序消息-创建activity_id'\n          });\n        }else if(resp?.result?.activityId){\n          wx.showToast({\n            title: \"创建成功\",\n            icon: 'success',\n            duration: 2000\n          }); \n        }else {\n          wx.showToast({\n            title: \"创建失败\",\n            icon: 'error',\n            duration: 2000\n          });\n          this.setData({\n            getErrorInfo:resp?.result?.errmsg,\n          })\n        } \n        wx.hideLoading();\n      })\n      .catch((e) => {\n        this.handdleResult(e);\n      });    \n  },\n\n  // 获取小程序码\n  getCodeSrc() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n      .callFunction({\n        name: 'cloudbase_module',\n        data: {\n          name: 'wx_qrcode_get_qrcode',\n          data: {\n            path: 'pages/index/index', // 扫码进入的小程序页面路径，最大长度 1024 个字符，不能为空，scancode_time为系统保留参数，不允许配置；对于小游戏，可以只传入 query 部分，来实现传参效果，如：传入 \"?foo=bar\"，即可在 wx.getLaunchOptionsSync 接口中的 query 参数获取到 {foo:\"bar\"}。\n            width: 430, //二维码的宽度，单位 px。默认值为430，最小 280px，最大 1280px\n            auto_color: false, //默认值false；自动配置线条颜色，如果颜色依然是黑色，则说明不建议配置主色调\n            line_color: { r: 0, g: 0, b: 0 }, //默认值{\"r\":0,\"g\":0,\"b\":0} ；auto_color 为 false 时生效，使用 rgb 设置颜色 例如 {\"r\":\"xxx\",\"g\":\"xxx\",\"b\":\"xxx\"} 十进制表示\n            is_hyaline: false, //默认值false；是否需要透明底色，为 true 时，生成透明底色的小程序码\n            env_version: 'trial', //要打开的小程序版本。正式版为 \"release\"，体验版为 \"trial\"，开发版为 \"develop\"。默认是正式版。\n          },\n        },\n      })\n      .then((resp) => {\n        if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n          this.setData({\n            installModalVisible: true,\n            installModalTipText: '云开发>云模板>模板中心>微信小程序码和链接',\n            installModuleName: 'wx_qrcode',\n            installModulePageTitle:'微信小程序码和链接-获取小程序码'\n          });\n        } else {\n          wx.showToast({\n            title: \"获取成功\",\n            icon: 'success',\n            duration: 2000\n          }); \n          this.setData({\n            qrcode: resp.result.tempFileURL,\n          });\n        }\n        wx.hideLoading();\n      })\n      .catch((e) => {\n        this.handdleResult(e);\n      });\n  },\n\n  // 获取不限制的小程序码\n  getUnlimitedCodeSrc() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n      .callFunction({\n        name: 'cloudbase_module',\n        data: {\n          name: 'wx_qrcode_get_unlimited_qrcode',\n          data: {\n            scene: 'abc', //最大32个可见字符，只支持数字，大小写英文以及部分特殊字符：!#$&'()*+,/:;=?@-._~，其它字符请自行编码为合法字符（因不支持%，中文无法使用 urlencode 处理，请使用其他编码方式）\n            page: 'pages/index/index', //默认是主页，页面 page，例如 pages/index/index，根路径前不要填加 /，不能携带参数（参数请放在scene字段里），如果不填写这个字段，默认跳主页面。scancode_time为系统保留参数，不允许配置\n            check_path: true, //默认是true，检查page 是否存在，为 true 时 page 必须是已经发布的小程序存在的页面（否则报错）；为 false 时允许小程序未发布或者 page 不存在， 但page 有数量上限（60000个）请勿滥用。\n            env_version: 'trial', //要打开的小程序版本。正式版为 \"release\"，体验版为 \"trial\"，开发版为 \"develop\"。默认是正式版。\n            width: 430, // 默认430，二维码的宽度，单位 px，最小 280px，最大 1280px\n            auto_color: false, //自动配置线条颜色，如果颜色依然是黑色，则说明不建议配置主色调，默认 false\n            line_color: {\"r\":0,\"g\":0,\"b\":0}, //默认是{\"r\":0,\"g\":0,\"b\":0} 。auto_color 为 false 时生效，使用 rgb 设置颜色 例如 {\"r\":\"xxx\",\"g\":\"xxx\",\"b\":\"xxx\"} 十进制表示\n            is_hyaline: false, //默认是false，是否需要透明底色，为 true 时，生成透明底色的小程序\n          },\n        },\n      })\n      .then((resp) => {\n        if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n          this.setData({\n            installModalVisible: true,\n            installModalTipText: '云开发>云模板>模板中心>微信小程序码和链接',\n            installModuleName: 'wx_qrcode',\n            installModulePageTitle:'微信小程序码和链接-获取不限制的小程序码'\n          });\n        }else if(resp.result?.errmsg){\n          wx.showToast({\n            title: \"获取失败\",\n            icon: 'error',\n            duration: 2000\n          }); \n          this.setData({\n            getErrorInfo:resp?.result?.errmsg,\n          })\n        } else {\n          wx.showToast({\n            title: \"获取成功\",\n            icon: 'success',\n            duration: 2000\n          }); \n          this.setData({\n            unlimitedQrcode: resp.result.tempFileURL,\n          });\n        }\n        wx.hideLoading();\n      })\n      .catch((e) => {\n        this.handdleResult(e);\n      });\n  },\n\n  // 获取ShortLink\n  getShortLink() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n      .callFunction({\n        name: 'cloudbase_module',\n        data: {\n          name: 'wx_qrcode_generate_short_link',\n          data: {\n            page_url: 'pages/index/index', // 通过 Short Link 进入的小程序页面路径，必须是已经发布的小程序存在的页面，可携带 query，最大1024个字符\n            page_title: '首页', //页面标题，不能包含违法信息，超过20字符会用... 截断代替\n            is_permanent: false, //默认值false。生成的 Short Link 类型，短期有效：false，永久有效：true\n          },\n        },\n      })\n      .then((resp) => {\n        if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n          this.setData({\n            installModalVisible: true,\n            installModalTipText: '云开发>云模板>模板中心>微信小程序码和链接',\n            installModuleName: 'wx_qrcode',\n            installModulePageTitle:'微信小程序码和链接-获取ShortLink'\n          });\n        }else if(resp.result?.errmsg){\n          wx.showToast({\n            title: \"获取失败\",\n            icon: 'error',\n            duration: 2000\n          }); \n          this.setData({\n            getErrorInfo:resp?.result?.errmsg,\n          })\n        } else {\n          wx.showToast({\n            title: \"获取成功\",\n            icon: 'success',\n            duration: 2000\n          }); \n          this.setData({\n            qrcodeShortLink: resp.result.tempFileURL,\n          });\n        }\n        wx.hideLoading();\n      })\n      .catch((e) => {\n        this.handdleResult(e);\n      });\n  },\n\n  \n// 发送短信\nsendCloudbaseSms() {\n  wx.showLoading({\n    title: '',\n  });\n  wx.cloud\n    .callFunction({\n      name: 'cloudbase_module',\n      data: {\n        name: 'wx_sms_new_send_cloudbase_sms',\n        data: {\n          env: this.data.envId, // 环境 ID\n          url_link: this.data.urlLink, // URL Link\n          template_id: this.data.smsTemplateId, //短信模版 ID 默认值：2053122（销类短信模版 ID)\n          template_param_list: ['xxx'], //短信模版变量数组\n          phone_number_list: [this.data.phoneNumber], //手机号列表，单次请求最多支持 1000 个境内手机号，手机号必须以+86开头\n          use_short_name: false, //是否使用小程序简称\n          resource_appid: this.data.appid, //资源方appid，第三方代开发时可填第三方appid或小程序appid，应为所填环境所属的账号APPID\n        },\n      },\n    })\n    .then((resp) => {\n      if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n        this.setData({\n          installModalVisible: true,\n          installModalTipText: '云开发>云模板>模板中心>小程序短信',\n          installModuleName: 'wx_sms_new_send_cloudbase_sms',\n          installModulePageTitle:'小程序短信-发送短信'\n        });\n      }else if(resp?.result?.errmsg){\n        wx.showToast({\n          title: \"发送失败\",\n          icon: 'error',\n          duration: 2000\n        });\n        this.setData({\n          getErrorInfo:resp?.result?.errmsg,\n        })\n      }else {\n        wx.showToast({\n          title: \"发送成功\",\n          icon: 'success',\n          duration: 2000\n        }); \n      } \n      wx.hideLoading();\n    })\n    .catch((e) => {\n      this.handdleResult(e);\n    });    \n  },\n\n  // 创建发短信任务\n  sendCloudbaseSmsTask() {\n    wx.showLoading({\n      title: '',\n    });\n  wx.cloud\n    .callFunction({\n      name: 'cloudbase_module',\n      data: {\n        name: 'wx_sms_create_send_sms_task',\n        data:{\n          env: this.data.envId, // 环境 ID\n          file_url: this.data.csvLink, //短信 CSV 文件地址CodeUri\n          template_id: this.data.smsTemplateId, //短信模版 ID 默认值：2053122（销类短信模版 ID)\n          use_short_name: false //是否使用小程序简称\n        }\n      },\n    })\n    .then((resp) => {\n      if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n        this.setData({\n          installModalVisible: true,\n          installModalTipText: '云开发>云模板>模板中心>小程序短信',\n          installModuleName: 'wx_sms_new_send_cloudbase_sms',\n          installModulePageTitle:'小程序短信-创建发短信任务'\n        });\n      }else if(resp?.result?.errmsg){\n        wx.showToast({\n          title: \"创建失败\",\n          icon: 'error',\n          duration: 2000\n        });\n        this.setData({\n          getErrorInfo:resp?.result?.errmsg,\n        })\n      }else {\n        wx.showToast({\n          title: \"创建成功\",\n          icon: 'success',\n          duration: 2000\n        }); \n      } \n      wx.hideLoading();\n    })\n    .catch((e) => {\n      this.handdleResult(e);\n    });    \n  },\n\n  // 文本内容安全识别\n  securityMessageCheck() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n    .callFunction({\n      name: 'cloudbase_module',\n      data: {\n        name: 'wx_security_msg_sec_check',\n        data: {\n          scene: 1, // 场景值 1, 代表资料\n          version: 2, // 接口版本号，2.0版本为固定值2\n          content: this.data.securityContent, // 要检测的内容\n        },\n      },\n    })\n    .then((resp) => {\n      if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n        this.setData({\n          installModalVisible: true,\n          installModalTipText: '云开发>云模板>模板中心>小程序安全能力',\n          installModuleName: 'wx_security_msg_sec_check',\n          installModulePageTitle:'小程序安全能力-文本内容安全识别'\n        });\n      }else if(resp?.result?.result?.label === 100){\n        wx.showToast({\n          title: \"内容正常\",\n          icon: 'success',\n          duration: 2000\n        }); \n      }else{\n        wx.showToast({\n          title: \"内容异常\",\n          icon: 'error',\n          duration: 2000\n        }); \n      }\n      wx.hideLoading();\n    })\n    .catch((e) => {\n      this.handdleResult(e);\n    });    \n  },\n\n  // 音视频内容安全识别\n  securityMediaCheck() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n    .callFunction({\n      name: 'cloudbase_module',\n      data: {\n        name: 'wx_security_media_check',\n        data: {\n          scene: 1, // 场景值 1, 代表资料\n          version: 2, // 接口版本号，2.0版本为固定值2\n          media_url: this.data.securityMedia, // 要检测的内容\n          media_type: 2, //媒体资源类型，2 代表图片图片\n        },\n      },\n    })\n    .then((resp) => {\n      if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n        this.setData({\n          installModalVisible: true,\n          installModalTipText: '云开发>云模板>模板中心>小程序安全能力',\n          installModuleName: 'wx_security_msg_sec_check',\n          installModulePageTitle:'小程序安全能力-音视频内容安全识别'\n        });\n      }else if(resp?.result?.errmsg){\n        wx.showToast({\n          title: \"内容异常\",\n          icon: 'error',\n          duration: 2000\n        }); \n        this.setData({\n          getErrorInfo:resp?.result?.errmsg,\n        })\n      }else{\n        wx.showToast({\n          title: \"内容正常\",\n          icon: 'success',\n          duration: 2000\n        });   \n      }\n      wx.hideLoading();\n    })\n    .catch((e) => {\n      this.handdleResult(e);\n    });    \n  },\n  \n  // 获取用户openId\n  getUserOpenId() {\n    wx.showLoading({\n      title: '',\n    });\n    wx.cloud\n    .callFunction({\n      name: 'cloudbase_module',\n      data: {\n        name: 'wx_user_get_open_id',\n      },\n    })\n    .then((resp) => {\n      if (resp?.result?.errcode === CLOUD_MODULE_NOT_INSTALLED) {\n        this.setData({\n          installModalVisible: true,\n          installModalTipText: '云开发>云模板>模板中心>小程序用户信息',\n          installModuleName: 'wx_user_get_open_id',\n          installModulePageTitle:'小程序用户信息-获取用户openId'\n        });\n      }else {\n        this.setData({\n          currentOpenId: resp.result.openId,\n        });\n      }\n      wx.hideLoading();\n    })\n    .catch((e) => {\n      this.handdleResult(e);\n    });    \n  },\n\n  // 手机号快速验证\n  getPhoneNumber(e) {\n    console.log(e.detail.code); // 动态令牌\n    wx.cloud.callFunction({\n      name: 'cloudbase_module',\n      data: {\n        name: 'wx_user_get_phone_number',\n        data: {\n          code: e.detail.code,\n        },\n      },\n      success: (res) => {\n        const phoneInfo = res.result?.phoneInfo;\n        console.log('获取到的手机号信息: ', phoneInfo);\n      },\n    });\n  }\n});\n"],"wx":{"version":1,"userVersion":"1.0.0","userNotes":"2025.3.11上传的第一个版本，可以实时查看数据以及状态识别\n22 在 2025年3月11日晚上8点06分 提交上传","packageVersion":"1557b7bacea3bb1c91f02063b1a0736c"}}